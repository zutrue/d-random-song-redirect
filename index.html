<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Redirecting...</title>
    <script>
      const links = [
        "https://open.spotify.com/track/SONG_ID_1",
        "https://youtube.com/watch?v=VIDEO_ID_2",
        "https://music.apple.com/song/SONG_ID_3"
      ];

      // Get index from localStorage or start at 0
      let index = parseInt(localStorage.getItem("redirectIndex") || "0", 10);

      // Fail-safe in case index is invalid
      if (isNaN(index) || index >= links.length || index < 0) {
        index = 0;
      }

      // Redirect to the current link
      window.location.href = links[index];

      // Set the next index, looping if needed
      const nextIndex = (index + 1) % links.length;
      localStorage.setItem("redirectIndex", nextIndex);
    </script>
  </head>
  <body>
    <p>Redirecting...</p>
  </body>
</html>
